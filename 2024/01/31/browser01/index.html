<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Title -->
<title>【Web】從輸入網址列到畫面出現，經歷了哪些過程？ - Ally&#39;s Blog</title>

<!-- Icon -->
<link rel="icon" href="https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg">

<!-- Fonts -->
<link rel="preload" href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital@0;1&family=Open+Sans:ital,wght@0,400;0,700;1,400;1,700&display=swap" as="style" onload="this.onload=null, this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital@0;1&family=Open+Sans:ital,wght@0,400;0,700;1,400;1,700&display=swap"></noscript>



<!-- Style -->

<link rel="stylesheet" href="/hexo-blog/styles/main.css">

<!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-theme-pure@1.0.1/dist/main.css"> -->





    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">


    <meta name="generator" content="Hexo 7.1.1"></head>
    <body>
        <div class="main gt-bg-theme-color-first">
            <div class="main-content">
                <nav class="navbar navbar-expand-lg">
    <a class="navbar-brand" href="/hexo-blog/">
        <img class="user-avatar" src="https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg" alt="头像">
        <div class="site-name gt-c-content-color-first">
            Ally&#39;s Blog
        </div>
    </a>
    <button aria-label="Navbar Toggler" class="navbar-toggler" type="button" id="changeNavbar">
        <i class="gt-c-content-color-first" style="font-size: 18px;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" height="18px" fill="currentColor">
                <path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z" />
            </svg>
        </i>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <div class="navbar-nav mr-auto" style="text-align: center; ">
            
                <div class="nav-item">
                    <a href="/hexo-blog/" class="menu gt-a-link" target="_self">Home</a>
                </div>
            
                <div class="nav-item">
                    <a href="/hexo-blog/archives/" class="menu gt-a-link" target="_self">Archives</a>
                </div>
            
        </div>
    </div>
</nav>

<script>
    /* 移动端导航栏展开/收起切换 */
    document.getElementById('changeNavbar').onclick = function() {
        let element = document.getElementById('navbarSupportedContent');
        if (element.style.display === 'none' || element.style.display === '') {
            element.style.display = 'block';
        } else { 
            element.style.display = 'none';
        }
    }
</script>

                <div class="post-container">
    <div class="post-detail gt-bg-theme-color-second gt-c-content-color-first">
        <article class="gt-post-content">
            <h1 class="post-title">【Web】從輸入網址列到畫面出現，經歷了哪些過程？</h1>
            <div class="post-info">
                <time class="post-time gt-c-content-color-first">
                    · 2024-01-31 ·</time>
                
                    
                        <a href="/hexo-blog/tags/MentoCamp/" class="post-tag">
                            #MentoCamp</a>
                    
                        <a href="/hexo-blog/tags/FrontEnd/" class="post-tag">
                            #FrontEnd</a>
                    
                
            </div>
            <hr>
            <div class="post-content gt-c-content-color-first">
                <p>遠古以前你會聽到這句話：「輸入 triple W 點 OOO 點 com，就可以了解的更多！」現在的小孩子可能會問什麼是「triple W」？不是直接在網址列輸入 OOO 就好了嗎？</p>
<p>天真！你一定沒有要當工程師，這題可是經典的前端工程師面試題呢，所以今天藉此來練習一下在沒有圖示的情況下，可不可以把這個問題說清楚。</p>
<p>最簡單的說法就是使用者發出了一個 request，然後最後從伺服器收到一個 response，不過這過程可是很複雜的，就拿我的部落格網址「<a target="_blank" rel="noopener" href="https://blog.chih-yuu.me/blog">https://blog.chih-yuu.me/blog</a> 」來步步拆解吧！</p>
<h2 id="域名解析-DNS-Lookup-？"><a href="#域名解析-DNS-Lookup-？" class="headerlink" title="域名解析 (DNS Lookup)？"></a>域名解析 (DNS Lookup)？</h2><h3 id="域名-Domain-Name-是什麼？"><a href="#域名-Domain-Name-是什麼？" class="headerlink" title="域名 (Domain Name)是什麼？"></a>域名 (Domain Name)是什麼？</h3><p>網址又叫做 URL(Uniform Resource Locator)，一個網址包含通訊協定、域名還有路徑，以我的部落格而言：</p>
<ul>
<li>【https】是通訊協定</li>
<li>【blog.chih-yuu.me】是域名</li>
<li>【blog】是路徑</li>
</ul>
<h3 id="域名如何轉成-IP"><a href="#域名如何轉成-IP" class="headerlink" title="域名如何轉成 IP?"></a>域名如何轉成 IP?</h3><p>瀏覽器是讀不懂域名的，所以他必須找出伺服器的 IP 位址，才可以進行通訊，瀏覽器會通過作業系統訪問 DNS(domain name system)找出域名【blog.chih-yuu.me】的 IP 地址，這個過程就叫做域名解析。</p>
<h2 id="建立-TCP-IP-連線"><a href="#建立-TCP-IP-連線" class="headerlink" title="建立 TCP&#x2F;IP 連線"></a>建立 TCP&#x2F;IP 連線</h2><h3 id="什麼是-TCP？"><a href="#什麼是-TCP？" class="headerlink" title="什麼是 TCP？"></a>什麼是 TCP？</h3><p>知道伺服器的住址(IP)還不夠，你總不能貿然跑去喜歡的人的家跟他要照片嘛（？），你需要遵守交往的步驟，在瀏覽器和伺服器之間也一樣，要遵守 TCP&#x2F;IP 傳輸協定，它的三次握手(Three-way handshake)，可以確保資料的傳遞與接受是暢通的。</p>
<ul>
<li>第 1 次：客戶端向伺服器端送出 SYN packet</li>
<li>第 2 次：伺服器端收到後回覆 SYN&#x2F;ACK packet</li>
<li>第 3 次：客戶端收到後回覆 ACK packet</li>
</ul>
<p>看到一篇用傳紙條來解釋網路傳輸的文章，很值得參考：<br><a target="_blank" rel="noopener" href="https://hulitw.medium.com/learning-tcp-ip-http-via-sending-letter-5d3299203660">從傳紙條輕鬆學習基本網路概念</a></p>
<h3 id="TCP-跟-UDP-有什麼差異？"><a href="#TCP-跟-UDP-有什麼差異？" class="headerlink" title="TCP 跟 UDP 有什麼差異？"></a>TCP 跟 UDP 有什麼差異？</h3><p>補充 TCP 和 UDP 有什麼不一樣呢？簡單來說，TCP 重視資料的順序與完整傳輸，所以傳資料很可靠，但 UDP 更重視快速，例如現在的串流技術就是 UDP 協定。</p>
<h2 id="瀏覽器渲染機制"><a href="#瀏覽器渲染機制" class="headerlink" title="瀏覽器渲染機制"></a>瀏覽器渲染機制</h2><p>那我從家裡的電腦輸入「<a target="_blank" rel="noopener" href="https://blog.chih-yuu.me/blog">https://blog.chih-yuu.me/blog</a> 」，經過域名解析、建立 TCP 連線之後，為什麼「可以」看到畫面，就要先從瀏覽器從伺服器這裡拿到什麼了？</p>
<h3 id="Client-request"><a href="#Client-request" class="headerlink" title="Client request"></a>Client request</h3><p>瀏覽器知道了網址的 IP 位置，並建立連線之後，他會向對方發出一個 Http request，Http request 包含 request line、header、body。<br>request line，也可以翻譯做「請求行」包含 3 個部分：</p>
<ul>
<li>請求方法：GET&#x2F;POST&#x2F;PUT&#x2F;PATCH&#x2F;DELETE</li>
<li>請求對象的路徑</li>
<li>HTTP 通訊協定的版本<br>例如:<code>GET /hello-world HTTP/1.1</code></li>
</ul>
<p>header，它包含客戶端的資訊，用來告訴伺服器自己是誰，協助伺服器給予相對應的資料。<br>body，通常在<code>GET</code>方法下是空白的，但如果是<code>POST</code>，<code>PUT</code>或<code>PATCH</code>的方法，body 會包含資料格式，還有要新增或是修改的內容，實際上還是要看後端需要什麼資料而定。</p>
<h3 id="Server-response"><a href="#Server-response" class="headerlink" title="Server response"></a>Server response</h3><p>伺服器端收到要求之後，會根據需求給出一個 response，包含 status line、response header、resources 等三個部分。</p>
<p>status line 很重要，例如大家熟知的 200 &#x3D; OK、404 &#x3D; page not fond，可以告訴請求端目前的狀態，如果有錯，問題又在哪裡，可以做初步的判斷。</p>
<p>header，它包含伺服器端的資訊，以我的部落格來說還可以看到我的 server 是架在 Vercel 上面，如果今天的錯誤訊息是 5XX，那可能可以找 Vercel 處理。</p>
<p>接下來的重頭戲就是瀏覽器的渲染啦，也就是針對 resource 的部分，不只有靜態的檔案例如<code>index.html</code>，也有其他非文字檔案，如 img 檔。</p>
<h3 id="瀏覽器的渲染"><a href="#瀏覽器的渲染" class="headerlink" title="瀏覽器的渲染"></a>瀏覽器的渲染</h3><p>瀏覽器是看的懂 HTML 檔案的，瀏覽器在讀完 HTML 之後就會進行 DOM tree 的建構。DOM，全名為 Document Object Model ( 文件物件模型 )。由 Browser 解析 HTML&#x2F;CSS 檔案，為了讓 JavaScript 操作物件，而建立物件模型 ( object model )。在 DOM 階段可以操作 JS 來增修內容或修改樣式。</p>
<p>這部分完全是前端工程師的五星重點區，重要到必須要特別拉出來再寫一篇。</p>
<h2 id="總結"><a href="#總結" class="headerlink" title="總結"></a>總結</h2><p>從輸入網址列到畫面出現，經歷了 6 個步驟：</p>
<ol>
<li>輸入網址</li>
<li>瀏覽器透過作業系統和 DNS 系統進行域名解析</li>
<li>瀏覽器向已知的 IP 位置建立 TCP&#x2F;IP 通訊</li>
<li>瀏覽器對伺服器發出 request</li>
<li>伺服器收到 request 後，回傳 response</li>
<li>瀏覽器根據 response 的內容進行解析、渲染出網頁畫面。</li>
</ol>
<p>這是一篇簡單的筆記文章，每一個步驟都有繼續優化的可能性，特別是瀏覽器渲染，完全需要再做筆記。</p>
<h2 id="推薦文章"><a href="#推薦文章" class="headerlink" title="推薦文章"></a>推薦文章</h2><ul>
<li><a target="_blank" rel="noopener" href="https://aws.amazon.com/tw/blogs/mobile/what-happens-when-you-type-a-url-into-your-browser/">What happens when you type a URL into your browser?</a></li>
<li><a target="_blank" rel="noopener" href="https://zenn.dev/oreo2990/articles/280d39a45c203e">Web ブラウザのレンダリングの仕組みを理解する</a></li>
<li><a target="_blank" rel="noopener" href="https://medium.com/@birnbera/what-happens-when-you-type-a-url-in-your-browser-and-press-enter-f5f4957ba108">What happens when you type a URL in your browser and press enter?</a></li>
<li><a target="_blank" rel="noopener" href="https://medium.someone.tw/web-%E7%80%8F%E8%A6%BD%E5%99%A8%E5%A6%82%E4%BD%95%E7%B9%AA%E8%A3%BD%E7%B6%B2%E9%A0%81-%E6%8E%A2%E8%A8%8E-dom-cssom-%E8%88%87%E6%B8%B2%E6%9F%93-%E7%BF%BB%E8%AD%AF-e9ba8c2be451">【Web】瀏覽器如何繪製網頁？探討 DOM、CSSOM 與渲染</a></li>
</ul>

            </div>
        </article>
    </div>
    <br>
    
        <div class="next-prev-post">
            
            
                <div class="next-post">
                    <div class="next gt-c-content-color-first">
                        下一篇：<a href="/hexo-blog/2024/01/28/hello-world/" 
                            class="post-title gt-a-link">【Intro】This is Ally</a>
                    </div>
                </div>
            
        </div>
    
    

    

    
</div>

                <div class="site-footer gt-c-content-color-first">
    <div class="footer-main">
        <!-- 建议保留版权信息或者添加主题信息到友链，感谢您的理解 -->
        <!-- 文件位置：layout/_includes/footer.ejs -->
        <span style="text-align: right; float: right;">Theme <a 
            href="https://github.com/renbaoshuo/hexo-theme-pure" target="_blank">Pure</a> | Powered by <a 
            href="https://hexo.io" target="_blank">Hexo</a></span>
        <span style="text-align: left;">Footer HTML
</span>
    </div>
</div>

            </div>
        </div>
    </body>
</html>